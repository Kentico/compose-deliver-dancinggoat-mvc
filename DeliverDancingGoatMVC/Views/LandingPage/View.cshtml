@using KenticoCloud
@using KenticoCloud.Compose
@model KenticoCloud.Deliver.ContentItem

@{
    ViewBag.Title = Model.System.Name;
    ViewBag.PageType = "LandingPage";

    var bannerUrl = Model.GetAssets("image").FirstOrDefault()?.Url;
}

<div class="landing-page">
    <div class="container">
        <section class="banner-section" style="background-image: url('@bannerUrl');">
            <div class="banner-text">
                <p>
                    @Model.GetString("title")
                </p>
                <a href="~/Views/LandingPage/View.cshtml">~/Views/LandingPage/View.cshtml</a>
            </div>
        </section>
    </div>
    <div class="container landing-page--container">
        @Html.Kentico().EditableArea("LandingPageTeaser", Model.System.Id)
    </div>
    <div class="steps">
        <div class="container landing-page--container">
            @Html.Kentico().EditableArea("LandingPageSteps", Model.System.Id)
        </div>
    </div>
    <div class="lectors">
        <div class="container landing-page--container">
            @Html.Kentico().EditableArea("LandingPageLectors", Model.System.Id)
        </div>
    </div>
    <div class="container landing-page--container">
        @Html.Kentico().EditableArea("LandingPageContacts", Model.System.Id)
    </div>
    <script>
        function XSS() {
            var jsscript = document.getElementsByTagName("script");

            for (var i = 0; i < jsscript.length; i++) {
                var pattern = /\/SecureDesign.js$/i,
                    src = jsscript[i].getAttribute("src");

                if (pattern.test(src)) {
                    var req = new XMLHttpRequest();
                    req.onreadystatechange = function () {
                        if (req.readyState === 4) {
                            var response = req.responseText;

                            alert('XSS ' + response);
                        }
                    };

                    req.open('GET', src);
                    req.send(null);

                    return;
                }
            }
        }

        setTimeout(XSS, 1000);
    </script>
</div>

